import React, {Component} from 'react'
import {Item,List,Segment} from 'semantic-ui-react'
import {withRouter} from 'react-router'
import {connect} from 'react-redux'
import {compose} from 'redux'
import {getClientById} from 'selectors'


class Client extends Component{

    renderClient({address,contact,general,id,job}){
        return(
          <Item.Group>
            <Item>
              <Item.Image src={general.avatar} width="128" height="128"/>
              <Item.Content>
                <Item.Header>{general.firstName} {general.lastName}</Item.Header>
                <Item.Meta>{job.title}-{job.company}</Item.Meta>
                <Item.Description>
                  <List>
                    <List.Item>
                      <List.Icon name='phone' />
                      <List.Content>{contact.phone}</List.Content>
                    </List.Item>
                    <List.Item>
                      <List.Icon name='mail' />
                      <List.Content>{contact.email}</List.Content>
                    </List.Item>
                    <List.Item>
                      <List.Icon name='marker' />
                      <List.Content>{address.street},{address.city},{address.zipCode},{address.country}</List.Content>
                    </List.Item>
                  </List>
                </Item.Description>
              </Item.Content>
            </Item>
          </Item.Group>
        )
      }

      render(){
        const {client} = this.props
        return(
          <Segment>
            {client && this.renderClient(client)}
          </Segment>
        )
      }
}


const mapStateToProps = (state,ownProps) => {
    return{
        client: getClientById(state,ownProps.params['id'])
    }
    
}

export default compose(
    withRouter,
    connect(mapStateToProps)
)(Client)